
  <div fxLayout="row" fxLayoutAlign="start center" mat-dialog-title>

    <h2 class="headline m-0" fxFlex="auto">Editar {{this.defaults.type}}</h2>

    <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
      <mat-icon [icIcon]="icClose"></mat-icon>
    </button>

  </div>

  <mat-divider class="-mx-6 text-border"></mat-divider>

  <mat-dialog-content fxLayout="column">

      <div class="flex flex-col sm:flex-row">
        <mat-form-field class="flex-auto">
          <mat-label>Nombre (máximo 30 caracteres)</mat-label>
          <input cdkFocusInitial [(ngModel)]="defaults.name" matInput>
          <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
        </mat-form-field>
        
      </div>
      <div class="flex flex-col sm:flex-row">
        <mat-form-field class="flex-auto">
          <mat-label>Descripción (máximo 100 caracteres)</mat-label>
          <input cdkFocusInitial [(ngModel)]="defaults.description" matInput>
          <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
        </mat-form-field>
      </div>
      <div class="flex flex-col sm:flex-row">
        
        
        <mat-form-field class="flex-auto ">
          <mat-label>A quien va dirigido</mat-label>
          <mat-select  name="type"  [(ngModel)]="typeClient" (selectionChange)="onLabelChange($event)">
            <mat-option value="Cliente">Cliente</mat-option>
            <mat-option value="Aval"> Aval</mat-option>
          </mat-select>
    
          <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
        </mat-form-field>
        <mat-form-field class="flex-auto  ml-6 "  *ngIf="typeCommunication=='Mail'">
          <mat-label>Asunto de mail</mat-label>
          <input cdkFocusInitial [(ngModel)]="defaults.subject" matInput>
          <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
        </mat-form-field>
        <mat-form-field class="flex-auto ml-6 " *ngIf="typeCommunication=='Carta'">
          <mat-label>Selecciona tamaño del documento</mat-label>
          <mat-select  name="type"  [(ngModel)]="defaults.latterType">
            <mat-option value="">Seleccionar tamaño del documento</mat-option>
            <mat-option value="A4">Cata</mat-option>
            <mat-option value="A5">Oficio</mat-option>
          </mat-select>
    
          <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
        </mat-form-field>
      </div>

      <div >
        <h5>Personaliza <label *ngIf="typeCommunication=='Carta' || typeCommunication=='Notificacion'">la {{typeCommunication}}</label> <label *ngIf="typeCommunication!='Carta' &&  typeCommunication!='Notificacion'">el {{typeCommunication}}</label> con los campos elegidos en el mapeo. Haz click en el campo que quieres insertar y haz click en la posicion en donde quieres incluir la información del campo
        </h5>
      </div>
      <div>
        <br>
              <div>

                <label *ngFor="let label of communicationData;let i = index " class="m-2" >
                  <button (click)="addText(label)" color="primary" mat-stroked-button>{{label}}</button> <br *ngIf="(i+1)%10==0" />
                </label>
              </div>
              <div>
                <h5 *ngIf="typeCommunication!='SMS' && typeCommunication!='Blaster'">Puedes insertar logos haciendo click en el boton <mat-icon [icIcon]="icImage" class="mr-3" matPrefix></mat-icon>  </h5>
                <h5> Copia el link dentro del editor selecciona y da click en el botón <mat-icon [icIcon]="icLink" class="mr-3" matPrefix></mat-icon>para convertirlo en un enlace.</h5>
              </div>
              <br>
             
              <div class="flex flex-col sm:flex-row mb-2">
                <label class="flex-auto self-center" style="text-align: center;" for="">Caracteres: <b>{{character}}</b> </label>
                <div class="flex-auto" style="text-align: center;"  *ngIf="typeCommunication=='Carta' || typeCommunication=='Notificacion' ||typeCommunication=='Demanda'">

                  <button   mat-stroked-button  color="primary" >Agregar nueva pagina</button>
                </div>
              </div>
              <div *ngIf="latterType=='A4' && (typeCommunication=='Carta' || typeCommunication=='Notificacion' ||typeCommunication=='Demanda') ">
        
                <quill-editor #screen format="html"
                @fadeInUp
                (keyup)="cuanti()"
                (click)="getCursorPosition()"
                [styles]="{ flex: '1 1 auto', 
                width: '216mm',
                height: '279mm',
                padding: '20mm',
                'margin-top': '10mm',
                'margin-left': 'auto',
                'margin-right': 'auto',
                'border-color': 'grey',
                border: 'solid',
                'border-width': '1px',
                background: 'white',
                'border-radius': '5px'}" [formControl]="form1"  placeholder="Some text..."></quill-editor>



                
              </div>
              <div *ngIf="latterType!='A4' && (typeCommunication=='Carta' || typeCommunication=='Notificacion' ||typeCommunication=='Demanda') ">


                <quill-editor @fadeInUp
                (keyup)="cuanti()"
                  
                  [formControl]="form1"
                  (click)="getCursorPosition()"
                  [styles]="{ flex: '1 1 auto', 
                  width: '256mm',
                  height: '356mm',
                  padding: '20mm',
                  'margin-top': '10mm',
                  'margin-left': 'auto',
                  'margin-right': 'auto',
                  'border-color': 'grey',
                  border: 'solid',
                  'border-width': '1px',
                  background: 'white',
                  'border-radius': '5px'}"
                  
                  >
                </quill-editor>
              </div>
              <div *ngIf="typeCommunication=='Blaster' ||typeCommunication=='Mensaje' ||typeCommunication=='Mail'  ">


                <quill-editor @fadeInUp
                (keyup)="cuanti()"
                  [formControl]="form1"
                  (click)="getCursorPosition()"
                  [styles]="{ flex: '1 1 auto'}"
                  >
                </quill-editor>
              </div>
              <div id="download" [hidden]="true">
                <img #canvas>
                <a #downloadLink></a>
              </div>
        
      </div>
      

    
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button mat-dialog-close type="button">CANCEL</button>
    <button *ngIf="isCreateMode()" color="primary" mat-button type="submit">CREAR COMUNICACIÓN</button>
    <button (click)="updateCustomer()"  mat-flat-button mat-button color="primary"ype="submit">GUARDAR CAMBIOS</button>
  </mat-dialog-actions>


