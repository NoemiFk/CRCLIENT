<vex-page-layout mode="card">

  <vex-page-layout-header fxLayout="column" fxLayoutAlign="center start">
    <div [class.container]="layoutCtrl.value === 'boxed'"
         [class.px-gutter]="layoutCtrl.value === 'fullwidth'"
         class="w-full flex flex-col  justify-between"> <!-- sm:flex-row-->
      
      <h3  class="mb-0" *ngIf="isNew=='true'">Subir archivo de portafolio</h3> 
      <h3  class="mb-0"*ngIf="isNew!='true'">Actualizacion de portafolio</h3> 
       </div>
  </vex-page-layout-header>

  <vex-page-layout-content [class.container]="layoutCtrl.value === 'boxed'"
                           [class.px-gutter]="layoutCtrl.value === 'fullwidth'"
                           class="-mt-6">

    <div class="card overflow-auto -mt-16" *ngIf="isNew=='true'">
      <p class="cursor-pointer pt-2 pl-4" (click)="back()" > <mat-icon class="pt-2"  [icIcon]="icBack"></mat-icon> <b> Regresar</b></p>

          <mat-horizontal-stepper>
            <mat-step label="Cargar Archivo" state="phone">
              <div style="padding: 20px;">

                <h4>Cargar Archivo</h4>
                <!--p>Carga aquí tu layout</p-->
                <p>1. El formato del archivo debe ser xlsx o csv. </p>
                <p>2. La primera columna debe ser el encabezcado, no deben exisitr columnas o filas vacias para poder subir el archivo con éxito.
                </p>
              </div>
              <div  class="text-center">

                <div class="spinner" *ngIf="active"></div>
                <div class="fileControl-wrapper text-center">
                  <br>
                    <button mat-flat-button color="primary">Seleccionar Archivo</button>
                  <input type="file" #uploadControl id="fileControlInput" (change)="onFileChange($event)" name="fileControlInput"
                    multiple="multiple"  />
              
                </div>
                <h3 *ngIf="jsonData.Datos.length && !active">El archivo seleccionado contiene</h3>
                <h2 *ngIf="jsonData.Datos.length && !active"> {{jsonData.Datos.length}} Registros</h2>
                <div id="output" *ngIf="false"></div>
                <div *ngIf="willDownload && false">
                  <a id="download"> Download JSON File </a>
                </div>
              <!--div id="output"></div>
                <br>
                <div *ngIf="willDownload">
                  <a id="download"> Download JSON File </a>
                </div-->
                
            </div>
              <div class="text-right" *ngIf="jsonData.Datos.length && !active">
                <button mat-raised-button class="primary" matStepperNext (click)="createRegister()">SUBIR ARCHIVO</button>
              </div>
            </mat-step>
            <!--mat-step label="Vista Previa" state="chat">
              <br>
              
              <div class="w-full flex justify-between">
                <p>Revisar el número de registros y los datos a cargar en caso de que los datos sean correcto presiona CARGAR ARCHIVO</p>
                <button mat-raised-button color="primary" matStepperNext (click)="createRegister()">CARGAR ARCHIVO</button>
              </div>
              <br>
              <div class="card overflow-auto" style="max-height: 500px;">
                <div style="color: white;" class="bg-app-bar px-6 h-16 border-b sticky left-0"fxLayout="row" fxLayoutAlign="start center">
                  <h2 class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l" fxFlex="none" fxHide.xs>
                    <span >{{portafolio.name_portafolio}}</span>
                  </h2>
            
                  <div *ngIf="selection.hasValue()" class="mr-4 pr-4 border-r" fxFlex="none">
                    <button (click)="deleteCustomers(selection.selected)"
                            color="primary"
                            mat-icon-button
                            matTooltip="Eliminar selecionados"
                            type="button">
                      <mat-icon [icIcon]="icDelete"></mat-icon>
                    </button>
            
                    <button color="primary" mat-icon-button matTooltip="Descargar" type="button">
                      <mat-icon [icIcon]="icFolder"></mat-icon>
                    </button>
                  </div>
            
                  
            
                  <span fxFlex></span>
            
                  <button class="ml-4" fxFlex="none" fxHide.gt-xs mat-icon-button type="button">
                    <mat-icon [icIcon]="icSearch"></mat-icon>
                  </button>
            
                  <button [matMenuTriggerFor]="columnFilterMenu"
                          class="ml-4"
                          fxFlex="none"
                          mat-icon-button
                          matTooltip="Filtrar Columnas"
                          type="button">
                    <mat-icon [icIcon]="icFilterList"></mat-icon>
                  </button>
            
                </div>
                <table @stagger [dataSource]="jsDatos" class="w-full" mat-table matSort *ngIf="uploadActive">

                 
                  <ng-container *ngFor="let column of columns; trackBy: trackByProperty">
                    <ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
                      <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
                      <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>{{ row[column.property] }}</td>
                    </ng-container>
                  </ng-container>
            
            
                  <tr *matHeaderRowDef="visibleColumns" class="bg-app-bar"  mat-header-row></tr>
                  <tr 
                      *matRowDef="let row; columns: visibleColumns;"
                      @fadeInUp
                      class="hover:bg-hover trans-ease-out cursor-pointer"
                      mat-row></tr>
                </table>
              </div>
              <br>
              <div class="text-right">
                <button mat-button matStepperPrevious>ATRAS</button>
                <button mat-button matStepperNext (click)="createRegister()">CARGAR ARCHIVO</button>
              </div>
            </mat-step-->
            <mat-step label="Mapeo" >

              <br>
              <div class="w-full flex justify-between">
                <p class="flex-1">En esta etapa se debe realizar el mapeo de los campos del portafolio. El mapeo es necesario para seleccionar los campos que se requieren para las diferentes funcionalidades; recomendación para el Mapeo: </p>
                <button mat-raised-button color="primary" matStepperNext (click)="create()">GUARDAR MAPEO</button>
              </div>
              <p><b>IMPORTANTE:</b>Te recomendamos leer y seguir  las instrucciones en cada punto del encabezado.
              </p>
              <br>
              <br>
              <ng-template #popTemplate27><div>Segmentación: Seleccionar campos como Cartera Vencida, Por vencer, Fecha último pago, Estado, Producto evitar campos como nombre del cliente, dirección, Fecha de Nacimiento.</div></ng-template>
          
              <ng-template #popTemplate28><div>Comunicación: Seleccionar campos para personalización como nombre, dirección, cartera vencida, numero de cliente o contrato, referencia de pago.</div></ng-template>
          
              <ng-template #popTemplate29><div>Encabezado</div></ng-template>
          
              <ng-template #popTemplate30><div>Portal: Seleccionar campos que el cliente puede visualizar como el desglose de su cartera vencida, nombre, numero de cliente o contrato, referencia de pago.</div></ng-template>
          
              <ng-template #popTemplate31><div>Aval: Seleccionar campos relacionados con el aval, Nombre, Dirección</div></ng-template>
          
              <ng-template #popTemplate32><div>Validacion de tipo de dato incluido.</div></ng-template>
          
              <div class="example-container" >
                <table mat-table [dataSource]="table" class="mat-elevation-z8 text-center table1"  style="width: 100%; " *ngIf="table.length">
          
                  <ng-container matColumnDef="Campo">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Campo</b> 
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate27"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>
                    </th>
                    <td mat-cell *matCellDef="let element" class="text-center" > <b> {{element.map}} </b></td>
                  </ng-container>
                  <ng-container matColumnDef="Ejemplo">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Ejemplo</b> 
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate27"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>
                    </th>
                    <td mat-cell *matCellDef="let element" class="text-center" > 
                      <p style="display: block;
                      white-space: nowrap;
                      overflow: hidden;
                      text-overflow: ellipsis;
                      width: 130px;">
                          {{element.ejemplo}}
                      </p> 
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Segmentación">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Segmentación</b> 
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate28"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>
                    </th>
                    <td mat-cell *matCellDef="let element;let i = index;" class="text-center" > 
                      <mat-checkbox class="example-margin w-full text-center" [checked]="element.segmentation.status" ([ngModel])=" element.segmentation.status"
                      (change)="$event ? saveChange('segmentation',i) : null">
                    </mat-checkbox>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Comunicación">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Comunicación</b>
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate29"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>  </th>
                    <td mat-cell *matCellDef="let element;let i = index;" class="text-center" > 
                      <mat-checkbox class="example-margin w-full text-center" [checked]="element.strategies.status" ([ngModel])=" element.strategies.status"
                      (change)="$event ? saveChange('strategies',i) : null">
                    </mat-checkbox>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Portal">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Portal</b>  
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate30"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>
                    </th>
                    <td mat-cell *matCellDef="let element;let i = index;" class="text-center" > 
                      <mat-checkbox class="example-margin w-full text-center" [checked]="element.customerPortal.status" ([ngModel])=" element.customerPortal.status"
                      (change)="$event ? saveChange('customerPortal',i) : null">
                    </mat-checkbox>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Aval">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Aval</b>  
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate31"
                      placement="top"
                      class="pt-1"
                      ></mat-icon>
                    </th>
                    <td mat-cell *matCellDef="let element;let i = index;" class="text-center" > 
                      <mat-checkbox class="example-margin w-full text-center" [checked]="element.endorsement.status" ([ngModel])=" element.endorsement.status"
                      (change)="$event ? saveChange('endorsement',i) : null">
                    </mat-checkbox>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Validación">
                    <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Validación</b> 
                      <mat-icon  [icIcon]="icInfo" 
                      [outsideClick]="true"
[popover]="popTemplate32"
                      placement="top"
                      class="pt-1"
                      ></mat-icon> </th>
                    <td mat-cell *matCellDef="let element" class="text-center" >
                      <select class="sm:ml-6" name="element.validations.type" style="background: transparent;" [(ngModel)]="element.validations.type">
                        <option value="no">Seleccione uno...</option>
                        <option value="id">ID Unico</option>
                        <option value="string">Texto</option>
                        <option value="number">Cantidad</option>
                        <option value="email">E-mail</option>
                        <option value="phone">Número Telefónico</option>
                        <option value="date">Fecha</option>
                      </select>
                    </td>
                  </ng-container>
                
                  <tr mat-header-row *matHeaderRowDef="displayedColumnsA2;"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumnsA2;"></tr>
                </table>
              </div>
              <br>
              
              <div class="text-right">
                <button mat-button matStepperPrevious>ATRAS</button>
                <button mat-button matStepperNext (click)="create()">GUARDAR MAPEO</button>
              </div>
            </mat-step>
          
            <!-- Icon overrides. -->
            <ng-template matStepperIcon="phone">
              <mat-icon>call_end</mat-icon>
            </ng-template>
            <ng-template matStepperIcon="chat">
              <mat-icon>forum</mat-icon>
            </ng-template>
          </mat-horizontal-stepper>

    <!--div class="bg-app-bar px-6 h-16 border-b sticky left-0" fxLayout="row" fxLayoutAlign="start center">
      <h2 class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l" fxFlex="none" fxHide.xs>
        <span *ngIf="selection.isEmpty()">Cartera</span>
        <span *ngIf="selection.hasValue()">{{ selection.selected.length }}
          Cartera<span *ngIf="selection.selected.length > 1">s</span> seleccionadas</span>
      </h2>

      <div *ngIf="selection.hasValue()" class="mr-4 pr-4 border-r" fxFlex="none">
        <button (click)="deleteCustomers(selection.selected)"
                color="primary"
                mat-icon-button
                matTooltip="Eliminar selecionados"
                type="button">
          <mat-icon [icIcon]="icDelete"></mat-icon>
        </button>

        <button color="primary" mat-icon-button matTooltip="Descargar" type="button">
          <mat-icon [icIcon]="icFolder"></mat-icon>
        </button>
      </div>

      <div class="bg-card rounded-full border px-4"
           fxFlex="400px"
           fxFlex.lt-md="auto"
           fxHide.xs
           fxLayout="row"
           fxLayoutAlign="start center">
        <ic-icon [icIcon]="icSearch" size="20px"></ic-icon>
        <input [formControl]="searchCtrl"
               class="px-4 py-3 border-0 outline-none w-full bg-transparent"
               placeholder="Buscar..."
               type="search">
      </div>

      <span fxFlex></span>

      <button class="ml-4" fxFlex="none" fxHide.gt-xs mat-icon-button type="button">
        <mat-icon [icIcon]="icSearch"></mat-icon>
      </button>

      <button [matMenuTriggerFor]="columnFilterMenu"
              class="ml-4"
              fxFlex="none"
              mat-icon-button
              matTooltip="Filtrar Columnas"
              type="button">
        <mat-icon [icIcon]="icFilterList"></mat-icon>
      </button>

      <button (click)="createMapeo()"
              class="ml-4"
              color="primary"
              fxFlex="none"
              mat-mini-fab
              matTooltip="Generar Mapeo"
              type="button">
        <mat-icon [icIcon]="icAdd"></mat-icon>
      </button>
      <button (click)="upload()"
              class="ml-4"
              color="primary"
              fxFlex="none"
              mat-mini-fab
              matTooltip="Cargar Archivo"
              type="button">
        <mat-icon [icIcon]="icUpload"></mat-icon>
      </button>
      <button (click)="load()"
              class="ml-4"
              color="warn"
              fxFlex="none"
              mat-mini-fab
              matTooltip="Actualizar Cartera"
              type="button">
        <mat-icon [icIcon]="icLoad"></mat-icon>
      </button>
    </div-->
    
    
    </div>
    <div class="card overflow-auto -mt-16" *ngIf="isNew=='false'">
      <div class="pt-4 pl-4 pr-4"  fxLayout="row" fxLayoutAlign="space-between center">
        <p *ngIf="created" class="cursor-pointer" (click)="back()"> <mat-icon class="pt-2" [icIcon]="icBack"></mat-icon> <b> Regresar</b></p>
        <p *ngIf="created">Fecha de creacion: <b> {{created | date}}</b></p>
        <!--p *ngIf="updated">Fecha de actualizacion: <b>{{updated | date}}</b></p-->
      </div>
      <mat-horizontal-stepper>
        <!--mat-step label="Cartera Activa" state="chat">
          <br>
          <p>Cartera Activa mapeada en el portafolio</p>
          <br>
          <div class="spinner" *ngIf="!dataSourceUpload.length"></div>
          <div class="card overflow-auto" style="max-height: 500px;" *ngIf="dataSourceUpload.length">
            <div style="color: white;" class="bg-app-bar px-6 h-16 border-b sticky left-0"fxLayout="row" fxLayoutAlign="start center">
              <h2 class="title my-0 ltr:pr-4 rtl:pl-4 ltr:mr-4 rtl:ml-4 ltr:border-r rtl:border-l" fxFlex="none" fxHide.xs>
                <span *ngIf="selection.isEmpty()">Cartera</span>
                <span *ngIf="selection.hasValue()">{{ selection.selected.length }}
                  Cartera<span *ngIf="selection.selected.length > 1">s</span> seleccionadas</span>
              </h2>
        
              <div *ngIf="selection.hasValue()" class="mr-4 pr-4 border-r" fxFlex="none">
                <button (click)="deleteCustomers(selection.selected)"
                        color="primary"
                        mat-icon-button
                        matTooltip="Eliminar selecionados"
                        type="button">
                  <mat-icon [icIcon]="icDelete"></mat-icon>
                </button>
        
                <button color="primary" mat-icon-button matTooltip="Descargar" type="button">
                  <mat-icon [icIcon]="icFolder"></mat-icon>
                </button>
              </div>
              <span fxFlex></span>
        
              <button class="ml-4" fxFlex="none" fxHide.gt-xs mat-icon-button type="button">
                <mat-icon [icIcon]="icSearch"></mat-icon>
              </button>
        
              <button [matMenuTriggerFor]="columnFilterMenu"
                      class="ml-4"
                      fxFlex="none"
                      mat-icon-button
                      matTooltip="Filtrar Columnas"
                      type="button">
                <mat-icon [icIcon]="icFilterList"></mat-icon>
              </button>
        
            </div>
            <table @stagger [dataSource]="dataSourceUpload" class="w-full" mat-table matSort>

              
              <ng-container *ngFor="let column of columns; trackBy: trackByProperty">
                <ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
                  <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header> {{ column.label }}</th>
                  <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>{{ row[column.property]}}</td>
                </ng-container>
              </ng-container>
        
        
              <tr *matHeaderRowDef="visibleColumns" class="bg-app-bar"  mat-header-row></tr>
              <tr 
                  *matRowDef="let row; columns: visibleColumns;"
                  @fadeInUp
                  class="hover:bg-hover trans-ease-out cursor-pointer"
                  mat-row></tr>
            </table>
          </div>
          <br>
          <div class="text-right">
          </div>
        </mat-step-->
        <mat-step label="Actualizar Portafolio" state="phone">
          <div style="padding: 20px;">

            <h3>Subir Archivo de actualizacion Portafolio</h3>
            <p>1. El formato del archivo debe ser xlsx o csv. </p>
            <p>2. La primera columna debe ser el encabezcado, no deben exisitr columnas o filas vacias para poder subir el archivo con éxito. 

          </div>
          <!--div  class="text-center">
            <div class="spinner"></div>

            <input type="file" (change)="onFileChange($event)" />
            <h3 *ngIf="jsonData.Datos.length">Datos Cargados</h3>
            <h2 *ngIf="jsonData.Datos.length"> {{jsonData.Datos.length}}</h2>
        </div-->
        <div class="spinner" *ngIf="active"></div>
        <div class="fileControl-wrapper text-center">
          <br>
            <button mat-flat-button color="primary">Seleccionar archivo de actualización</button>
          <input type="file" #uploadControl id="fileControlInput" (change)="onFileChange($event)" name="fileControlInput"
            multiple="multiple"  />
      
            <h5 *ngIf="jsonData.Datos.length && !active">Registros Cargados</h5>
            <h4 *ngIf="jsonData.Datos.length  && !active"> {{jsonData.Datos.length}}</h4>

            <div *ngIf="registros && actualizando">
              <br>
              <h5 *ngIf="datosactualizados">   Registros Actualizados: {{ datosactualizados}}</h5>
              <h5 *ngIf="registros">  Registros ya existentes:  {{registros}}</h5>
            </div>
        </div>

          <div class="text-right" *ngIf="jsonData.Datos.length && !active">
            <button mat-flat-button mat-button color="primary" matStepperNext (click)="updateDataMapeo()">ACTUALIZAR ARCHIVO</button>
            
          </div>
        </mat-step>
        
        <!--mat-step label="Mapeo">

          <br>
          <p>Selecciona en la SIGUIENTE tabla los datos que desees utilizar en los SIGUIENTEs procesos de Collections Robot.</p>
          <br>
          <div class="card overflow-auto" style="max-height: 500px;">
            <div class="my-12 container"
            fxLayout="row"
            fxLayout.xs="column"
            fxLayoutAlign="start start"
            fxLayoutAlign.xs="start stretch"
            fxLayoutGap="24px">
            <div  fxFlex fxLayout="column">
              <b>Dato</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of map"> {{column.datos}}</mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Ejemplo</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of map"> {{column.ejemplo}}</mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Análisis</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of analysis"> 
                  <mat-checkbox class="example-margin w-full text-center"
                  
                  [(ngModel)]="column.status">
                </mat-checkbox>
                </mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Segmentación</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of segmentation"> 
                  <mat-checkbox class="example-margin w-full text-center"
                  
                  [(ngModel)]="column.status"
                  >
                </mat-checkbox>
                </mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Comunicación</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of strategies"> 
                  <mat-checkbox class="example-margin w-full text-center"
                  
                  [(ngModel)]="column.status"
                  >
                </mat-checkbox>
                </mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Portal</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of customerPortal"> 
                  <mat-checkbox class="example-margin w-full text-center"
                  
                  [(ngModel)]="column.status"
                  >
                </mat-checkbox>
                </mat-list-item>
              </mat-list>
            </div>
            <div  fxFlex fxLayout="column">
              <b>Validación</b>
              <mat-list role="list">
                <mat-list-item role="listitem" *ngFor="let column of validations"> 
                  <mat-checkbox class="example-margin w-full text-center"
                  
                  [(ngModel)]="column.status"
                  >
                </mat-checkbox>
                  <select class="sm:ml-6" name="type"  >
                    <option value="no">Seleccione uno...</option>
                    <option value="Email">E-mail</option>
                    <option value="number">Numero Telefonico</option>
                    <option value="date">Fecha</option>
                  </select>
                </mat-list-item>
              </mat-list>
            </div>
            </div>
          </div>
          <div class="text-right">
            <button mat-button matStepperPrevious>ATRAS</button>
            <button mat-button matStepperNext (click)="create()">Grabar</button>
          </div>
        </mat-step>
        <mat-step label="Validar Cartera" state="phone">
          <div style="padding: 20px;" class="text-center">
            <button>Validar</button>
        </div>
          <div class="text-right" *ngIf="jsonData.Datos.length">
            <button mat-button matStepperNext>SIGUIENTE</button>
          </div>
        </mat-step-->
        
      
        <!-- Icon overrides. -->
        <ng-template matStepperIcon="phone">
          <mat-icon>call_end</mat-icon>
        </ng-template>
        <ng-template matStepperIcon="chat">
          <mat-icon>forum</mat-icon>
        </ng-template>
      </mat-horizontal-stepper>
    </div>

  </vex-page-layout-content>

</vex-page-layout>

<mat-menu #columnFilterMenu="matMenu" xPosition="before" yPosition="below">
  <button (click)="toggleColumnVisibility(column, $event)" *ngFor="let column of columns"
          class="checkbox-item mat-menu-item">
    <mat-checkbox (click)="$event.stopPropagation()" [(ngModel)]="column.visible" color="primary">
      {{ column.label }}
    </mat-checkbox>
  </button>
</mat-menu>

