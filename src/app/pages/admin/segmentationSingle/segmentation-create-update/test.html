<div *ngIf="openCriterio2">
<h3><b>Información General</b></h3>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Cliente:</b> </h4>
  </div>
  <div fxFlex="30">
    {{cliente_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Portafolio:</b> </h4>
  </div>
  <div fxFlex="30">
    {{portafolio_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Registros:</b> </h4>
  </div>
  <div fxFlex="30">
    {{register2}}
  </div>
</div>
<div>
  <h4><b>Segmentación</b></h4>
  
</div>

<table mat-table [dataSource]="dataSource2" class="mat-elevation-z8 text-center"  *ngIf="datas2.data.length" style="width: 100%; ">

  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <!-- Position Column -->
  <ng-container matColumnDef="date1">
    <th mat-header-cell *matHeaderCellDef class="text-center"> <b>33%</b> </th>
    <td mat-cell *matCellDef="let element"> {{element.date1}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="date2">
    <th mat-header-cell *matHeaderCellDef class="text-center"> <b>33%</b>  </th>
    <td mat-cell *matCellDef="let element"> {{element.date2}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="date3">
    <th mat-header-cell *matHeaderCellDef class="text-center"> <b>33%</b>  </th>
    <td mat-cell *matCellDef="let element"> {{element.date3}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="date4">
    <th mat-header-cell *matHeaderCellDef class="text-center"> <b>Sin Información</b></th>
    <td mat-cell *matCellDef="let element"> {{element.date4}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<!--div class="flex flex-col sm:flex-row text-center" *ngIf="datas2.data.length">
  <div class="flex-auto">
    <b>{{datas2.data[0]}}-{{datas2.data[1]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas2.lables[0]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas2.data[1]}}-{{datas2.data[2]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas2.lables[1]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas2.data[2]}}-{{datas2.data[3]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas2.lables[2]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>Sin Información</b>
    <br>
    <p>{{ portafolio.register-datas2.lables[0]-datas2.lables[1]-datas2.lables[2]}} Registros</p>
  </div>
</div-->
<div class="flex flex-col sm:flex-row">

  <div class=" flex flex-col mt-6">

    <mat-form-field *ngIf="mode != 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <mat-select matNativeControl name="criterio2"  formControlName="criterio2">
        <ng-container *ngFor="let option of segmentacion;">
          <mat-option  [value]="option.data" *ngIf="option.status">
            {{option.data}}
          </mat-option>
        </ng-container>
        
      </mat-select>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <mat-form-field *ngIf="mode == 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <input cdkFocusInitial formControlName="criterio2" matInput>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <a (click)="analizar2()" color="primary" mat-button >SEGMENTAR</a>
    <br>
    <div class="flex flex-col sm:flex-row">
      <mat-form-field class="flex-auto">
        <mat-label>Rango A</mat-label>
        <input cdkFocusInitial formControlName="rango2A" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
      </mat-form-field>
      <mat-form-field class="flex-auto ml-6">
        <mat-label>Rango B</mat-label>
        <input cdkFocusInitial formControlName="rango2B" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>
    </div>

   
  <a (click)="guardar2()" color="primary" mat-button >AGREGAR</a>
    <br>
    <div *ngIf="info2!=0">
      <p>Datos segmentados:{{info2}}</p>
      <p>Datos segmentados:{{(100/register2) * info2}} %</p>
      <p>Datos Libres:{{register2-info2}}</p>
    </div>
  </div>
  <div class="flex-auto mt-6" style="width: 850px;">
    <div *ngIf="!chart2">
       No hay Datos
    </div>
    <vex-chart [options]="options2" *ngIf="chart2" [series]="salesSeries2"></vex-chart>
  </div>
</div>
<a (click)="openCriterio3=true" color="primary" mat-button >AGREGAR NUERVO CRITERIO</a>
</div>
<div *ngIf="openCriterio3">
<h3><b>Información General</b></h3>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Cliente:</b> </h4>
  </div>
  <div fxFlex="30">
    {{cliente_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Portafolio:</b> </h4>
  </div>
  <div fxFlex="30">
    {{portafolio_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Registros:</b> </h4>
  </div>
  <div fxFlex="30">
    {{register}}
  </div>
</div>
<div>
  <h4><b>Segmentación</b></h4>
  
</div>
<div class="flex flex-col sm:flex-row text-center" *ngIf="datas.data.length">
  <div class="flex-auto">
    <b>{{datas.data[0]}}-{{datas.data[1]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[0]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas.data[1]}}-{{datas.data[2]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[1]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas.data[2]}}-{{datas.data[3]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[2]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>Sin Información</b>
    <br>
    <p>{{ portafolio.register-datas.lables[0]-datas.lables[1]-datas.lables[2]}} Registros</p>
  </div>
</div>
<div class="flex flex-col sm:flex-row">

  <div class=" flex flex-col mt-6">

    <mat-form-field *ngIf="mode != 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <mat-select matNativeControl name="criterio1"  formControlName="criterio1">
        <ng-container *ngFor="let option of segmentacion;">
          <mat-option  [value]="option.data" *ngIf="option.status">
            {{option.data}}
          </mat-option>
        </ng-container>
        <!--mat-option [value]="option.data" *ngFor="let option of segmentacion;">{{option.data}}</mat-option-->
      </mat-select>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <mat-form-field *ngIf="mode == 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <input cdkFocusInitial formControlName="criterio1" matInput>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <a (click)="analizar()" color="primary" mat-button >SEGMENTAR</a>
    <br>
    <div class="flex flex-col sm:flex-row">
      <mat-form-field class="flex-auto">
        <mat-label>Rango A</mat-label>
        <input cdkFocusInitial formControlName="rango1A" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
      </mat-form-field>
      <mat-form-field class="flex-auto ml-6">
        <mat-label>Rango B</mat-label>
        <input cdkFocusInitial formControlName="rango1B" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>
    </div>

   
  <a (click)="guardar1()" color="primary" mat-button >AGREGAR</a>
    <br>
    <div *ngIf="info!=0">
      <p>Datos segmentados:{{info}}</p>
      <p>Datos segmentados:{{(100/total) * info}} %</p>
      <p>Datos Libres:{{total-info}}</p>
    </div>
  </div>
  <div class="flex-auto mt-6" style="width: 850px;">
    <div *ngIf="!chart">
       No hay Datos
    </div>
    <vex-chart [options]="options" *ngIf="chart" [series]="salesSeries"></vex-chart>
  </div>
</div>
<a (click)="openCriterio3=true" color="primary" mat-button >AGREGAR NUERVO CRITERIO</a>
</div>
<div *ngIf="openCriterio4">
<h3><b>Información General</b></h3>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Cliente:</b> </h4>
  </div>
  <div fxFlex="30">
    {{cliente_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Portafolio:</b> </h4>
  </div>
  <div fxFlex="30">
    {{portafolio_id}}
  </div>
</div>
<div fxLayout="row" fxLayoutAlign="start center" >
  <div fxFlex="10">
    <h4> <b>Registros:</b> </h4>
  </div>
  <div fxFlex="30">
    {{register}}
  </div>
</div>
<div>
  <h4><b>Segmentación</b></h4>
  
</div>
<div class="flex flex-col sm:flex-row text-center" *ngIf="datas.data.length">
  <div class="flex-auto">
    <b>{{datas.data[0]}}-{{datas.data[1]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[0]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas.data[1]}}-{{datas.data[2]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[1]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>{{datas.data[2]}}-{{datas.data[3]}}</b>
    <p><b>33%</b></p>
    <br>
    <p>{{datas.lables[2]}} Registros</p>
  </div>
  <div class="flex-auto">
    <b>Sin Información</b>
    <br>
    <p>{{ portafolio.register-datas.lables[0]-datas.lables[1]-datas.lables[2]}} Registros</p>
  </div>
</div>
<div class="flex flex-col sm:flex-row">

  <div class=" flex flex-col mt-6">

    <mat-form-field *ngIf="mode != 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <mat-select matNativeControl name="criterio1"  formControlName="criterio1">
        <mat-option [value]="option.data" *ngFor="let option of segmentacion;">{{option.data}}</mat-option>
      </mat-select>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <mat-form-field *ngIf="mode == 'update'">
      <mat-label>Selecciona Criterio</mat-label>
      <input cdkFocusInitial formControlName="criterio1" matInput>

      <mat-icon [icIcon]="icEditLocation" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>

    <a (click)="analizar()" color="primary" mat-button >SEGMENTAR</a>
    <br>
    <div class="flex flex-col sm:flex-row">
      <mat-form-field class="flex-auto">
        <mat-label>Rango A</mat-label>
        <input cdkFocusInitial formControlName="rango1A" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
      </mat-form-field>
      <mat-form-field class="flex-auto ml-6">
        <mat-label>Rango B</mat-label>
        <input cdkFocusInitial formControlName="rango1B" matInput>

        <mat-icon [icIcon]="icPerson" class="mr-3" matPrefix></mat-icon>
    </mat-form-field>
    </div>

   
  <a (click)="guardar1()" color="primary" mat-button >AGREGAR</a>
    <br>
    <div *ngIf="info!=0">
      <p>Datos segmentados:{{info}}</p>
      <p>Datos segmentados:{{(100/total) * info}} %</p>
      <p>Datos Libres:{{total-info}}</p>
    </div>
  </div>
  <div class="flex-auto mt-6" style="width: 850px;">
    <div *ngIf="!chart">
       No hay Datos
    </div>
    <vex-chart [options]="options" *ngIf="chart" [series]="salesSeries"></vex-chart>
  </div>
</div>
<a (click)="openCriterio2=true" color="primary" mat-button >AGREGAR NUERVO CRITERIO</a>
</div>