
  <div fxLayout="row" fxLayoutAlign="start center" mat-dialog-title>
    <h2 class="headline m-0"
        fxFlex="auto">Actualizar Mapeo</h2>



    <button class="text-secondary" mat-dialog-close mat-icon-button type="button">
      <mat-icon [icIcon]="icClose"></mat-icon>
    </button>
  </div>

  <mat-divider class="-mx-6 text-border"></mat-divider>

  <mat-dialog-content fxLayout="column">
    <br>
    <p> Se puede realizar la  actualización del mapeo en cualquier momento para indicar los campos que se requiren en las diferentes funcionalidades del Collection Robot. 
    </p>
    <br>
    <div>
      <p><b>1.</b>	Segmentación: Seleccionar campos como Cartera Vencida, Por vencer, Fecha último pago, Estado, Producto evitar campos como nombre del cliente, dirección, Fecha de Nacimiento.</p>
      <p><b>2.</b>	Comunicación: Seleccionar campos para personalización como nombre, dirección, cartera vencida, numero de cliente o contrato, referencia de pago </p>
      <p><b>3.</b>	Portal: Seleccionar campos que el cliente puede visualizar como el desglose de su cartera vencida, nombre, numero de cliente o contrato, referencia de pago.</p>
      <p><b>4.</b>	Aval: Seleccionar campos relacionados con el aval, Nombre, Dirección. </p>
    </div>

    <br>
    <ng-template #popTemplate92><div>Segmentación: Seleccionar campos como Cartera Vencida, Por vencer, Fecha último pago, Estado, Producto evitar campos como nombre del cliente, dirección, Fecha de Nacimiento.</div></ng-template>

    <ng-template #popTemplate93><div>Comunicación: Seleccionar campos para personalización como nombre, dirección, cartera vencida, numero de cliente o contrato, referencia de pago.</div></ng-template>

    <ng-template #popTemplate91><div>Encabezado</div></ng-template>

    <ng-template #popTemplate94><div>Portal: Seleccionar campos que el cliente puede visualizar como el desglose de su cartera vencida, nombre, numero de cliente o contrato, referencia de pago.</div></ng-template>
    <ng-template #popTemplate95><div>Aval: Seleccionar campos relacionados con el aval, Nombre, Dirección</div></ng-template>

    <ng-template #popTemplate96><div>Validacion de tipo de dato incluido.</div></ng-template>

    <div class="example-container" >
      <table mat-table [dataSource]="table" class="mat-elevation-z8 text-center table1"  style="width: 100%; " *ngIf="table.length">

        <ng-container matColumnDef="Dato">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Nombre de Campo</b> 
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate91"
            placement="bottom"
            class="pt-1"
            ></mat-icon>
          </th>
          <td mat-cell *matCellDef="let element" class="text-center" > <b> {{element.map}} </b></td>
        </ng-container>
        <ng-container matColumnDef="Segmentación">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Segmentación</b> 
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate92"
            placement="bottom"
            class="pt-1"
            ></mat-icon>
          </th>
          <td mat-cell *matCellDef="let element; let i = index;" class="text-center" > 
            <mat-checkbox class="example-margin w-full text-center" [checked]="element.segmentation.status" ([ngModel])=" element.segmentation.status"
            (change)="$event ? saveChange('segmentation',i) : null">
          </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="Comunicación">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Comunicación</b>
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate93"
            placement="bottom"
            class="pt-1"
            ></mat-icon>  </th>
          <td mat-cell *matCellDef="let element; let i = index;" class="text-center" > 
            <mat-checkbox class="example-margin w-full text-center" [checked]="element.strategies.status" ([ngModel])=" element.strategies.status"
            (change)="$event ? saveChange('strategies',i) : null">
          </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="Portal">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Portal</b>  
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate94"
            placement="bottom"
            class="pt-1"
            ></mat-icon>
          </th>
          <td mat-cell *matCellDef="let element; let i = index;" class="text-center" > 
            <mat-checkbox class="example-margin w-full text-center" [checked]="element.customerPortal.status" ([ngModel])=" element.customerPortal.status"
            (change)="$event ? saveChange('customerPortal',i) : null">
          </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="Aval">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Aval</b>  
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate95"
            placement="bottom"
            class="pt-1"
            ></mat-icon>
          </th>
          <td mat-cell *matCellDef="let element; let i = index;" class="text-center" > 
            <mat-checkbox class="example-margin w-full text-center" [checked]="element.endorsement.status" ([ngModel])=" element.endorsement.status"
            (change)="$event ? saveChange('endorsement',i) : null">
          </mat-checkbox>
          </td>
        </ng-container>
        <ng-container matColumnDef="Validación">
          <th mat-header-cell *matHeaderCellDef class="text-center uppercase" style="background: rgb(1, 90, 167);"> <b>Validación</b> 
            <mat-icon  [icIcon]="icInfo" 
            [outsideClick]="true"
[popover]="popTemplate96"
            placement="bottom"
            class="pt-1"
            ></mat-icon> </th>
          <td mat-cell *matCellDef="let element; let i = index;" class="text-center" >
            <select class="sm:ml-6" name="element.validations.type" [(ngModel)]="element.validations.type"  style="background: transparent;">
              <option value="no">Seleccione uno...</option>
              <option value="id">ID Unico</option>
              <option value="string">Texto</option>
              <option value="number">Cantidad</option>
              <option value="email">Mail</option>
              <option value="phone">Numero Telefonico</option>
              <option value="date">Fecha</option>
            </select>
          </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumnsA2; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumnsA2;"></tr>
      </table>
    </div>
   
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button color="warn" mat-dialog-close type="button">CANCELAR</button>
    <button *ngIf="isUpdateMode()" mat-flat-button mat-button color="primary" (click)="save()" mat-button type="submit">ACTUALIZAR MAPEO</button>
  </mat-dialog-actions>

<mat-menu #settingsMenu="matMenu" xPosition="before" yPosition="below">
  <button mat-menu-item>
    <mat-icon [icIcon]="icPrint"></mat-icon>
    <span>Print</span>
  </button>

  <button mat-menu-item>
    <mat-icon [icIcon]="icDownload"></mat-icon>
    <span>Export</span>
  </button>

  <button mat-menu-item>
    <mat-icon [icIcon]="icDelete"></mat-icon>
    <span>Eliminar</span>
  </button>
</mat-menu>
